"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function initMap(){map=new google.maps.Map(document.getElementById("map"),{center:{lat:37.6419628,lng:-122.5127333},zoom:10});for(var e,n=[{name:"Planet Granite San Francisco",placeId:"ChIJYR3cR92GhYAReMwzpHwVcI8",position:{lat:37.8041267,lng:-122.4685219}},{name:"Dogpatch Boulders",placeId:"ChIJ2xYuRrp_j4ARU9Lx0LBnqrY",position:{lat:37.7566538,lng:-122.389994}},{name:"Mission Cliffs",placeId:"ChIJQ2qEqDB-j4ARfAbDE0-IWvo",position:{lat:37.7610241,lng:-122.4147971}},{name:"Great Western Power Company",placeId:"ChIJiZODxK2Aj4ARTMot5wllmGU",position:{lat:37.8255233,lng:-122.2887678}},{name:"Berkeley Ironworks",placeId:"ChIJzXxD1PV-hYAR4VEMx86aHVw",position:{lat:37.8508457,lng:-122.2947798}}],o=new google.maps.LatLngBounds,t=0,a=n.length;t<a;t++)e=new google.maps.Marker({position:n[t].position,map:map,name:n[t].name,id:t}),markers.push(e),o.extend(e.position);map.fitBounds(o);for(var i=[],t=0,a=n.length;t<a;t++)i.push(new Gym(n[t],markers[t]));ko.applyBindings(new ViewModel(i))}var map,Gym=function e(n,o){_classCallCheck(this,e),this.uberInfo={},this.generalInfo=n,this.marker=o},ViewModel=function(e){var n=this;this.searchFocused=ko.observable(!1),this.currentLocation=ko.observable(null),this.query=ko.observable(""),this.gymList=ko.observableArray(e),this.filterLocations=ko.computed(function(){var e=n.query().toLowerCase();return e?ko.utils.arrayFilter(n.gymList(),function(n){var o=n.generalInfo.name.toLowerCase().indexOf(e)!==-1;return n.marker.setVisible(o),o}):(n.gymList().forEach(function(e){e.marker.setVisible(!0)}),n.gymList())}),this.submitForm=function(){n.selectFirstLocation()},this.selectLocation=function(){n.currentLocation(this),n.query(this.generalInfo.name),n.searchFocused(!0),console.log(n.searchFocused())},this.selectFirstLocation=function(){n.filterLocations().length>0&&n.query().length>0&&(n.currentLocation(n.filterLocations()[0]),n.query(n.currentLocation().generalInfo.name),console.log("select"))},this.clearSearch=function(){n.currentLocation(null),n.query(""),n.searchFocused(!0)}},markers=[];